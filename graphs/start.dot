digraph {
  get_user [label = "Get the user"]
  does_directory_exist [label = "Does the program's directory in\nuser's home folder exist?" shape="diamond"]
  load_key_df_and_master_pass [label = "Load the .json, .key and .master"]
  ask_for_master [label = "Ask the user to enter\ntheir master password"]
  is_master_right [label = "Is master password right?" shape="diamond"]
  open_program [label = "Open the program"]
  create_key_df [label = "Create the new directory there, create .json,\ngenerate random key, put everything\nin this new directory"]
  ask_to_set_master [label = "Ask the user to set master password"]


  get_user -> does_directory_exist

  does_directory_exist -> load_key_df_and_master_pass [label = "True"]
  load_key_df_and_master_pass -> ask_for_master -> is_master_right
  is_master_right -> open_program [label = "Right"]
  is_master_right -> ask_for_master [label = "Wrong"]

  does_directory_exist -> create_key_df [label = "False"]
  create_key_df -> ask_to_set_master -> open_program 
}